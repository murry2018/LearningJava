# 필드 초기화와 제한자

 자바 클래스에 선언하는 변수들을 필드라고 부른다.

## 초기화와 초기자

 필드 초기화의 한 방법은 초기자(initializer)를 이용하는 것이다. 주로 상수, 상수 표현식, 메소드 호출 등이 가능하다. 초기자는 단순한 초기화에 사용하는 것이 바람직하며, 예외를 처리할 방법이 없으므로 예외가 발생하지 않도록 해야 한다. 이보다 복잡한 초기화는 생성자, 혹은 어노테이션 등 추가적인 도구를 이용한다.
 
 필드를 명시적으로 초기화하지 않을 경우, 타입에 맞는 적절한 기본 값으로 초기화된다.

| Type                   | Initial value |
|------------------------|---------------|
| boolean                | false         |
| char                   | '\\u0000'      |
| byte, short, int, long | 0             |
| float, double          | +0.0          |
| object reference       | null              |

## 제한자

필드 선언 앞에 제한자를 둠으로써 몇 가지 속성을 부여할 수 있다.

- 어노테이션(annotation)
- 접근 제한자(access modifier) - [자바의 Data Hiding과 접근 제어자](Data-Hiding-and-Access-Modifier.md)를 보라.
- static - 한 클래스의 모든 인스턴스에 공유되는 필드를 나타낸다.
- final - 초기화 된 이후 변경할 수 없는 필드를 나타낸다.
- transient - 객체 직렬화와 관련이 있다.
- volatile - 동기화, 혹은 메모리 모델과 연관된 속성이다.

final이면서 동시에 volatile인 필드는 만들 수 없다. 여러 제한자를 같은 필드에 선언하고자 한다면 위에 나열한 순서대로 쓸 것을 권장한다.

> **final에 대해 더 자세히...**
>
> 초기자를 통해 초기화되지 않은 final 필드를 blank final 이라 부르는데, static 필드의 경우 클래스가 초기화 되는 시점에, non-static 필드의 경우 객체가 생성되는 시점에 초기화되어야 한다.
>
> 문자열이나 원시타입의 경우, 컴파일 시간에 값이 결정되기 때문에 constant variable 이라 불린다. constant variable 들은 특별해서, 바이트코드로 변환될 때 참조 대신 값이 바로 적재된다. 이 때문에 직렬화 시 추가적으로 고려해야할 사항이 있다. 여러 스레드에서 동시에 접근할 때도 final 필드는 특별한 의미를 갖는다.
